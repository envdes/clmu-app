Search.setIndex({"docnames": ["container/1_intro_container", "container/2_install_docker", "container/3_CLMU_env_details", "container/4_run_CLM_case", "examples/Single_point_modeling", "examples/modify_urban", "index"], "filenames": ["container/1_intro_container.md", "container/2_install_docker.md", "container/3_CLMU_env_details.md", "container/4_run_CLM_case.md", "examples/Single_point_modeling.ipynb", "examples/modify_urban.ipynb", "index.rst"], "titles": ["Introduction", "Install Docker and pull container", "CLM ENV Container detail", "Run a CLM case", "Single point modeling of CLMU", "How dose the land surface affect the urban cliamte?", "CLMU APP"], "terms": {"from": [0, 1, 3, 4, 5], "docker": [0, 3, 4, 5, 6], "A": 0, "an": 0, "isol": 0, "environ": [0, 1, 2], "your": [0, 1, 3, 4], "code": 0, "thi": [0, 3, 4], "mean": [0, 4], "doe": 0, "know": 0, "machin": [0, 4], "": [0, 4, 5], "oper": 0, "system": [0, 6], "file": [0, 1, 3, 4], "It": [0, 1], "run": [0, 1, 6], "provid": [0, 1], "you": [0, 1, 3, 4], "desktop": 0, "have": 0, "everyth": 0, "need": [0, 1, 3, 4], "down": 0, "base": [0, 4], "can": [0, 1, 3, 4, 5], "us": [0, 1, 3, 6], "manag": [0, 1], "commun": [0, 4], "land": [0, 4, 6], "model": [0, 6], "host": 0, "nation": 0, "center": 0, "atmospher": 0, "research": 0, "ncar": 0, "act": 0, "singl": [0, 6], "layer": [0, 4], "canopi": 0, "scheme": 0, "under": 0, "earth": 0, "hierarchi": 0, "see": [0, 4], "more": [0, 1], "detail": [0, 6], "clm": [0, 6], "technic": 0, "note": [0, 1, 4], "parameter": 0, "cmlu": [0, 2], "fig": [0, 4, 5], "sourc": [0, 1, 4], "within": 0, "requir": 0, "linux": [0, 1], "certain": 0, "softwar": [0, 1], "without": [0, 4], "profession": 0, "support": 0, "technician": 0, "challeng": 0, "scientist": 0, "other": [0, 4, 5], "potenti": 0, "user": [0, 1, 3], "port": 0, "themselv": 0, "here": [0, 5], "we": [0, 1, 3, 5], "build": [0, 1], "env": [0, 4, 5, 6], "fit": 0, "recent": 0, "version": [0, 1], "ctsm": [0, 4, 6], "further": 0, "appli": 0, "cloud": 0, "platform": 0, "local": [0, 4], "comput": [0, 1, 4], "conduct": 0, "some": 0, "interest": 0, "experi": 0, "help": [0, 3], "case": [0, 1, 4, 6], "get": [1, 3, 6], "familiar": 1, "our": 1, "befor": [1, 4], "next": 1, "step": [1, 4], "lsb_releas": 1, "lsb": 1, "core": 1, "4": [1, 2, 4], "1": [1, 2, 3, 6], "amd64": 1, "noarch": 1, "distributor": 1, "id": [1, 4], "cento": 1, "descript": 1, "releas": [1, 4], "7": [1, 2, 4], "9": [1, 2, 4], "2009": 1, "codenam": 1, "For": 1, "yum": 1, "packag": 1, "make": 1, "upadt": 1, "sudo": [1, 3, 4, 5], "makecach": 1, "fast": 1, "2": [1, 2, 4, 5], "depend": 1, "y": 1, "util": [1, 4, 5], "devic": 1, "mapper": 1, "persist": 1, "data": [1, 6], "lvm2": 1, "3": [1, 2, 6], "add": [1, 4, 5], "repo": 1, "config": [1, 4], "http": [1, 4, 5], "download": 1, "com": 1, "ce": 1, "cli": 1, "containerd": 1, "io": 1, "5": [1, 2, 4, 5], "start": [1, 3], "systemctl": 1, "6": [1, 4], "set": [1, 3, 4, 5], "boot": 1, "automat": 1, "enabl": 1, "creat": [1, 3, 4], "symlink": 1, "etc": 1, "systemd": 1, "multi": 1, "target": 1, "want": 1, "servic": 1, "usr": 1, "lib": 1, "24": [1, 3], "ed223bc": 1, "8": [1, 4], "reset": [1, 4], "root": 1, "dir": 1, "var": [1, 5], "default": 1, "stop": 1, "mkdir": 1, "p": [1, 4, 5], "your_loc": 1, "storag": 1, "cat": [1, 3], "daemon": 1, "json": [1, 4, 5], "configur": 1, "exsit": 1, "vi": 1, "vim": 1, "nona": 1, "datadisk": 1, "reopen": 1, "hub": 1, "offici": 1, "clmu": 1, "inputdata": 1, "vp": 1, "project": [1, 4, 5], "scratch": [1, 4, 5], "cesmdataroot": [1, 4, 5], "forcingdata": 1, "pyscript": [1, 4, 5], "do": [1, 3, 4], "chang": [1, 4, 5], "hostnam": [1, 4], "name": [1, 4], "mount": 1, "type": [1, 4], "bind": 1, "pwd": 1, "clm5docker": [1, 4, 5], "cd": [1, 3], "git": 1, "clone": 1, "b": 1, "github": 1, "escomp": 1, "manage_extern": 1, "checkout_extern": 1, "If": [1, 3], "pleas": 1, "refer": 1, "kei": 1, "sete": 1, "_": 1, "manchin": 1, "xml": 1, "i": [1, 6], "usus": 1, "empoli": 1, "hpc": 1, "mechan": 1, "where": 1, "entir": 1, "scientif": 1, "workflow": 1, "librari": 1, "even": 1, "ref": 1, "ri": 1, "itservic": 1, "manchest": [1, 4, 5], "ac": 1, "uk": [1, 4, 5], "csf3": 1, "applic": 1, "save": 1, "tar": 1, "o": [1, 2], "transport": 1, "scp": 1, "form": 1, "sif": 1, "archiv": [1, 4, 5], "document": 1, "drl_urban_climate_adapt": 1, "2_ctsm_contain": 1, "dockerfil": 1, "cime_config": 1, "config_machin": 1, "z47137jy": 1, "cime": [1, 4, 5], "config_compil": 1, "either": 1, "net": 1, "network": 1, "none": [1, 3, 4], "ar": [1, 3, 4], "same": 1, "variabl": [1, 4], "export": 1, "budget_account": 1, "slt": 1, "csmdata": 1, "casescript": [1, 4, 5], "myclm": [1, 3, 4, 5], "script": [1, 3, 6], "ompi_allow_run_as_root_confirm": 1, "ompi_allow_run_as_root": 1, "restart": 1, "rm": 1, "remov": 1, "log": 1, "exec": [1, 3, 4, 5], "bin": [1, 3], "bash": [1, 3], "shell": [1, 6], "fedora": [2, 3], "31": [2, 3], "major": 2, "app": 2, "compil": 2, "gcc": 2, "mpi": 2, "openmpi": 2, "0": [2, 3, 4, 5, 6], "cmake": 2, "18": [2, 4], "pnetcdf": 2, "12": [2, 3, 4, 5], "netcdf": 2, "c": [2, 4, 5], "fortran": 2, "python": [2, 6], "svn": 2, "interact": 3, "wai": 3, "via": [3, 6], "contain": [3, 4, 5], "now": 3, "how": [3, 6], "point": [3, 6], "resolut": 3, "forc": 3, "create_newcas": 3, "testspdatasetnatmforc": 3, "re": 3, "1x1_vancouvercan": 3, "compset": 3, "i1ptclm50spg": 3, "figur": 3, "out": 3, "end": 3, "date": [3, 4], "dataset": [3, 4], "examin": 3, "datafil": 3, "stop_n": 3, "330": 3, "start_year": 3, "1992": 3, "startdat": 3, "08": [3, 4], "ndai": 3, "xmlchang": 3, "run_startd": 3, "stop_opt": 3, "nstep": [3, 4], "namelist": 3, "output": [3, 4], "frequenc": 3, "histori": [3, 4], "stdurbpt": 3, "option": 3, "three": 3, "stream": 3, "The": 3, "number": 3, "time": [3, 4, 5], "sampl": 3, "eof": 3, "user_nl_clm": 3, "hist_mfilt": 3, "hist_nhtfrq": 3, "setup": 3, "biuld": [3, 6], "submit": 3, "result": [3, 6], "like": 3, "check": [3, 6], "resubmit": 3, "dout_": 3, "true": [3, 4, 5], "mach": 3, "clm5": [3, 4, 5, 6], "resubmit_num": 3, "job": 3, "st_archiv": 3, "error": 3, "No": 3, "test": [3, 4], "congratu": 3, "mostli": 3, "successfulli": 3, "ask": 3, "cesm": [3, 6], "forum": 3, "junji": [4, 5, 6], "yu": [4, 5, 6], "2023": [4, 5], "06": [4, 5], "rl_urban": [4, 5], "imag": [4, 5, 6], "simul": [4, 5, 6], "locat": [4, 5], "new": [4, 5], "york": [4, 5], "citi": [4, 5], "coordin": [4, 5], "replac": [4, 5], "40": [4, 5], "42": [4, 5], "46": [4, 5], "n": [4, 5], "74": [4, 5], "00": [4, 5], "22": [4, 5], "w": [4, 5], "en": [4, 5], "wikipedia": [4, 5], "org": [4, 5], "wiki": [4, 5], "new_york_c": [4, 5], "lat": [4, 5], "lon": [4, 5], "import": [4, 5], "print": [4, 5], "now_tim": [4, 5], "casescript_loc": [4, 5], "home": [4, 5], "zhonghua": [4, 5, 6], "caseroot_loc": [4, 5], "caseoutput": [4, 5], "dout_s_root": [4, 5], "scriptpath": [4, 5], "scr": [4, 5], "pts_ssp370": 4, "sh": [4, 5], "configpath": [4, 5], "config_ssp370": 4, "cesm_run": [4, 5], "path": 4, "cesm2": 4, "folder": 4, "e": 4, "g": 4, "jsonpath": 4, "case_lat": 4, "case_lon": 4, "25": 4, "case_nam": 4, "fsurdat": 4, "f19_g16": 4, "b1850": 4, "c090918": 4, "clm2": 4, "r": 4, "5x0": 4, "5_20090202": 4, "nc": 4, "password": [4, 5], "input": [4, 5], "server": [4, 5], "command": [4, 5, 6], "reset_cas": [4, 5], "permiss": [4, 5], "command_0": [4, 5], "chmod": [4, 5], "x": [4, 5], "run_command": [4, 5], "open": [4, 5], "f": [4, 5], "write": [4, 5], "create_cas": [4, 5], "d0": [4, 5], "nc_view": [4, 5], "current": [4, 5], "09": 4, "16": 4, "26": 4, "05": 4, "case_start_year": 4, "2055": 4, "d2055": 4, "lt": 4, "xarrai": 4, "gt": 4, "dimens": 4, "levgrnd": 4, "levlak": 4, "10": [4, 5], "levdcmp": 4, "hist_interv": 4, "column": 4, "14": 4, "gridcel": 4, "landunit": 4, "pft": 4, "28": 4, "float32": 4, "01": 4, "04": 4, "19": 4, "48": 4, "87": 4, "34": [4, 5], "33": 4, "44": 4, "78": 4, "object": 4, "07": 4, "286": 4, "54": 4, "mcdate": 4, "int32": 4, "mcsec": 4, "mdcur": 4, "mscur": 4, "time_bound": 4, "pfts1d_itype_veg": 4, "pfts1d_itype_col": 4, "pfts1d_itype_lunit": 4, "pfts1d_activ": 4, "trefmnav": 4, "trefmxav": 4, "attribut": 4, "38": 4, "titl": 4, "inform": 4, "comment": 4, "convent": 4, "cf": 4, "23": 4, "13": 4, "clm4": 4, "ctype_urban_shadewal": 4, "73": 4, "ctype_urban_impervious_road": 4, "ctype_urban_pervious_road": 4, "75": 4, "cft_c3_crop": 4, "cft_c3_irrig": 4, "time_period_freq": 4, "month_1xarrai": 4, "datasetdimens": 4, "25levlak": 4, "10levdcmp": 4, "1time": 4, "3hist_interv": 4, "2lon": 4, "1lat": 4, "1column": 4, "14gridcel": 4, "1landunit": 4, "5pft": 4, "28coordin": 4, "float320": 4, "0long_nam": 4, "soil": 4, "levelsunit": 4, "marrai": 4, "000000e": 4, "02": 4, "600000e": 4, "800000e": 4, "060000e": 4, "360000e": 4, "700000e": 4, "080000e": 4, "500000e": 4, "990000e": 4, "580000e": 4, "270000e": 4, "950000e": 4, "940000e": 4, "030000e": 4, "795000e": 4, "332777e": 4, "948313e": 4, "887072e": 4, "199844e": 4, "dtype": 4, "78long_nam": 4, "lake": 4, "325": 4, "775": 4, "float321": 4, "object2055": 4, "long_nam": 4, "timebound": 4, "time_boundsarrai": 4, "cftime": 4, "datetimenoleap": 4, "has_year_zero": 4, "float32286": 4, "2long_nam": 4, "longitudeunit": 4, "degrees_eastarrai": 4, "float3240": 4, "05long_nam": 4, "latitudeunit": 4, "degrees_northarrai": 4, "052357": 4, "yyyymmdd": 4, "valu": 4, "second": 4, "dateunit": 4, "dai": 4, "interv": 4, "endpoint": 4, "date_written": 4, "s16": 4, "time_written": 4, "area": 4, "grid": [4, 5], "cell": 4, "areasunit": 4, "km": 4, "landfrac": 4, "fraction": 4, "landmask": 4, "float64": 4, "ocean": 4, "mask": 4, "pftmask": 4, "real": 4, "fake": 4, "nbedrock": 4, "index": [4, 6], "shallowest": 4, "bedrock": 4, "zsoi": 4, "depthunit": 4, "m": 4, "350": 4, "dzsoi": 4, "thicknessunit": 4, "watsat": 4, "satur": 4, "water": 4, "content": 4, "poros": 4, "unit": 4, "mm3": 4, "sucsat": 4, "matric": 4, "potentialunit": 4, "mm": 4, "bsw": 4, "slope": 4, "retent": 4, "curveunit": 4, "unitless": 4, "hksat": 4, "hydraul": 4, "conductivityunit": 4, "zlake": 4, "node": 4, "140": 4, "dzlake": 4, "grid1d_lon": 4, "degrees_east": 4, "grid1d_lat": 4, "degrees_north": 4, "grid1d_ixi": 4, "2d": 4, "longitud": 4, "correspond": 4, "grid1d_jxi": 4, "latitud": 4, "land1d_lon": 4, "land1d_lat": 4, "land1d_ixi": 4, "land1d_jxi": 4, "land1d_wtgcel": 4, "weight": 4, "rel": 4, "land1d_ityplunit": 4, "veget": 4, "urban": [4, 6], "wetland": 4, "glacier": 4, "glacier_mec": 4, "land1d_act": 4, "landunitflag_valu": 4, "flag_mean": 4, "fals": 4, "truevalid_rang": 4, "cols1d_lon": 4, "cols1d_lat": 4, "cols1d_ixi": 4, "cols1d_jxi": 4, "cols1d_wtgcel": 4, "cols1d_wtlunit": 4, "cols1d_itype_col": 4, "global": 4, "cols1d_itype_lunit": 4, "cols1d_act": 4, "columnflag_valu": 4, "pfts1d_lon": 4, "pfts1d_lat": 4, "pfts1d_ixi": 4, "pfts1d_jxy": 4, "pfts1d_wtgcell": 4, "pfts1d_wtlunit": 4, "pfts1d_wtcol": 4, "pftflag_valu": 4, "daili": 4, "minimum": 4, "averag": 4, "temperatureunit": 4, "kcell_method": 4, "15": [4, 5], "maximum": 4, "levgrndpandasindexpandasindex": 4, "009999999776482582": 4, "03999999910593033": 4, "09000000357627869": 4, "1599999964237213": 4, "25999999046325684": 4, "4000000059604645": 4, "5799999833106995": 4, "800000011920929": 4, "059999942779541": 4, "3600000143051147": 4, "7000000476837158": 4, "0799999237060547": 4, "990000009536743": 4, "5799999237060547": 4, "269999980926514": 4, "949999809265137": 4, "940000057220459": 4, "029999732971191": 4, "795000076293945": 4, "327767372131348": 4, "483129501342773": 4, "870723724365234": 4, "41": 4, "998435974121094": 4, "x27": 4, "levlakpandasindexpandasindex": 4, "05000000074505806": 4, "6000000238418579": 4, "0999999046325684": 4, "599999904632568": 4, "100000381469727": 4, "600000381469727": 4, "32500076293945": 4, "775001525878906": 4, "levdcmppandasindexpandasindex": 4, "timepandasindexpandasindex": 4, "cftimeindex": 4, "length": 4, "calendar": 4, "noleap": 4, "freq": 4, "lonpandasindexpandasindex": 4, "latpandasindexpandasindex": 4, "informationcom": 4, "0histori": 4, "13sourc": 4, "0hostnam": 4, "dockerusernam": 4, "rootvers": 4, "35": 4, "gd010e00d5revision_id": 4, "histfilemod": 4, "f90": 4, "42903": 4, "2012": 4, "21": 4, "32": 4, "10z": 4, "muszala": 4, "case_titl": 4, "unsetcase_id": 4, "ssp370_expsurface_dataset": 4, "surfdata_0": 4, "9x1": 4, "25_hist_16pfts_irrig_cmip6_simyr1850_c190214": 4, "ncinitial_conditions_dataset": 4, "arbitrari": 4, "initializationpft_physiological_constants_dataset": 4, "clm5_param": 4, "c171117": 4, "ncltype_vegetated_or_bare_soil": 4, "1ltype_crop": 4, "2ltype_unus": 4, "3ltype_landice_multiple_elevation_class": 4, "4ltype_deep_lak": 4, "5ltype_wetland": 4, "6ltype_urban_tbd": 4, "7ltype_urban_hd": 4, "8ltype_urban_md": 4, "9ctype_vegetated_or_bare_soil": 4, "1ctype_crop": 4, "2ctype_crop_noncompet": 4, "100": 4, "cft_lb": 4, "cft_ubctype_landic": 4, "3ctype_landice_multiple_elevation_class": 4, "glcnecctype_deep_lak": 4, "5ctype_wetland": 4, "6ctype_urban_roof": 4, "71ctype_urban_sunwal": 4, "72ctype_urban_shadewal": 4, "73ctype_urban_impervious_road": 4, "74ctype_urban_pervious_road": 4, "75cft_c3_crop": 4, "1cft_c3_irrig": 4, "2time_period_freq": 4, "month_1": 4, "matplotlib": [4, 5], "pyplot": [4, 5], "plt": [4, 5], "ax": [4, 5], "subplot": [4, 5], "figsiz": [4, 5], "assign_coord": 4, "dim": 4, "plot": [4, 5], "scatter": 4, "500": 4, "label": [4, 5], "2035": 4, "set_xlabel": [4, 5], "lanuint": 4, "set_ylabel": [4, 5], "2m": 4, "air": 4, "temperatur": 4, "legend": [4, 5], "loc": 4, "upper": 4, "left": 4, "bbox_to_anchor": 4, "line": [4, 5], "color": [4, 5], "grai": [4, 5], "linestyl": [4, 5], "dash": [4, 5], "align": [4, 5], "axi": [4, 5], "tick": [4, 5], "set_axisbelow": [4, 5], "show": [4, 5], "29": 4, "pts_script": 5, "config_newyork": 5, "hia_u": 5, "hia_r": 5, "45": 5, "albedo": 5, "abl": 5, "roof": 5, "wall": 5, "respect": 5, "explor": [5, 6], "hia": 5, "gird": 5, "indic": 5, "modify_surf": 5, "alb_roof_dir": 5, "action": 5, "d_m_roof": 5, "alb_wall_dir": 5, "d_m_wall": 5, "d_m_roof_wal": 5, "rest": 5, "arrai": 5, "192": 5, "30399999": 5, "27200001": 5, "json_file_path": 5, "raw": 5, "drive": 6, "author": 6, "dr": 6, "zheng": 6, "yuan": 6, "sun": 6, "introduct": 6, "what": 6, "why": 6, "climat": 6, "instal": 6, "pull": 6, "info": 6, "singular": 6, "tip": 6, "try": 6, "piont": 6, "modifi": 6, "view": 6, "dose": 6, "surfac": 6, "affect": 6, "cliamt": 6, "modul": 6, "search": 6, "page": 6}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"introduct": 0, "what": 0, "i": 0, "contain": [0, 1, 2, 6], "clmu": [0, 4, 6], "why": 0, "python": 0, "urban": [0, 5], "climat": 0, "explor": 0, "instal": 1, "docker": 1, "pull": 1, "check": 1, "system": 1, "info": 1, "ctsm": 1, "env": [1, 2], "imag": 1, "biuld": 1, "clm5": 1, "0": 1, "singular": 1, "tip": 1, "command": 1, "clm": [2, 3, 4, 5], "detail": 2, "run": [3, 4, 5], "case": 3, "try": 3, "singl": [3, 4], "piont": 3, "point": 4, "model": 4, "1": [4, 5], "get": [4, 5], "shell": [4, 5], "script": [4, 5], "cesm": [4, 5], "modifi": [4, 5], "data": [4, 5], "3": [4, 5], "view": [4, 5], "result": [4, 5], "how": 5, "dose": 5, "land": 5, "surfac": 5, "affect": 5, "cliamt": 5, "app": 6, "exampl": 6, "indic": 6, "tabl": 6}, "envversion": {"sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "nbsphinx": 4, "sphinx": 58}, "alltitles": {"Introduction": [[0, "introduction"]], "What is a container?": [[0, "what-is-a-container"]], "What is CLMU?": [[0, "what-is-clmu"]], "Why container for CLMU?": [[0, "why-container-for-clmu"]], "Python for urban climate exploration": [[0, "python-for-urban-climate-exploration"]], "Install Docker and pull container": [[1, "install-docker-and-pull-container"]], "Check system info": [[1, "check-system-info"]], "Install docker": [[1, "install-docker"]], "Pull the ctsm env image": [[1, "pull-the-ctsm-env-image"]], "Biuld container": [[1, "biuld-container"]], "Install CTSM or CLM5.0": [[1, "install-ctsm-or-clm5-0"]], "Singularity": [[1, "singularity"]], "Tips for docker commander": [[1, "tips-for-docker-commander"]], "CLM ENV Container detail": [[2, "clm-env-container-detail"]], "Run a CLM case": [[3, "run-a-clm-case"]], "Try to run a single piont case": [[3, "try-to-run-a-single-piont-case"]], "Single point modeling of CLMU": [[4, "Single-point-modeling-of-CLMU"]], "1 Get the shell script for running CESM/CLM": [[4, "1-Get-the-shell-script-for-running-CESM/CLM"], [5, "1-Get-the-shell-script-for-running-CESM/CLM"]], "Modify the data": [[4, "Modify-the-data"]], "3 View the results": [[4, "3-View-the-results"], [5, "3-View-the-results"]], "How dose the land surface affect the urban cliamte?": [[5, "How-dose-the-land-surface-affect-the-urban-cliamte?"]], "Modify the surface data": [[5, "Modify-the-surface-data"]], "CLMU APP": [[6, "clmu-app"]], "CLMU APP container": [[6, null]], "Examples": [[6, null]], "Indices and tables": [[6, "indices-and-tables"]]}, "indexentries": {}})